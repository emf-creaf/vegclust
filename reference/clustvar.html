<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Cluster variance — clustvar • vegclust</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cluster variance — clustvar"><meta name="description" content="Computes the variation in community composition (i.e. beta diversity) found within the sites of a set of hard or fuzzy clusters."><meta property="og:description" content="Computes the variation in community composition (i.e. beta diversity) found within the sites of a set of hard or fuzzy clusters."><meta property="og:image" content="https://emf-creaf.github.io/vegclust/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vegclust</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/MedRegExample.html">Describing vegetation in terms of structure and composition</a></li>
    <li><a class="dropdown-item" href="../articles/VegetationClassification.html">How to use the vegclust package</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/emf-creaf/vegclust/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Cluster variance</h1>
      <small class="dont-index">Source: <a href="https://github.com/emf-creaf/vegclust/blob/HEAD/R/clustvar.R" class="external-link"><code>R/clustvar.R</code></a></small>
      <div class="d-none name"><code>clustvar.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes the variation in community composition (i.e. beta diversity) found within the sites of a set of hard or fuzzy clusters.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">clustvar</span><span class="op">(</span><span class="va">x</span>, cluster <span class="op">=</span> <span class="cn">NULL</span>, defuzzify <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Community data. Either a site-by-species matrix or a site-by-site matrix of compositional distances between sites  (i.e., an object of class <code><a href="https://rdrr.io/r/stats/dist.html" class="external-link">dist</a></code>). Alternatively, this can be an object of class <code><a href="vegclust.html">vegclust</a></code> or <code><a href="vegclass.html">vegclass</a></code>, and in this case it is unnecessary to provide <code>cluster</code>.</p></dd>


<dt id="arg-cluster">cluster<a class="anchor" aria-label="anchor" href="#arg-cluster"></a></dt>
<dd><p>A vector indicating the hard membership of each object in <code>x</code> to a set of groups.</p></dd>


<dt id="arg-defuzzify">defuzzify<a class="anchor" aria-label="anchor" href="#arg-defuzzify"></a></dt>
<dd><p>A flag indicating whether fuzzy memberships should be defuzzified (see function <code><a href="defuzzify.html">defuzzify</a></code>). Only applies to the case where an object of class <code><a href="vegclust.html">vegclust</a></code> or <code><a href="vegclass.html">vegclass</a></code> is supplied in <code>x</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional parameters for function <code><a href="defuzzify.html">defuzzify</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A double value (for one cluster) or a vector of values, one per each cluster.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function can be used in two ways:</p><ul><li><p>if <code>x</code> is a data matrix (site by species or distances among sites) and <code>cluster</code> is <code>null</code>, the function assumes a single cluster of all points in <code>x</code>. When <code>cluster</code> is provided, the function computes cluster variance for each (hard) group and this computation implies setting the centroid of the group. Cluster variance is defined as the average squared distance to the centroid.</p></li>
<li><p>If <code>x</code> is an object of class <code><a href="vegclust.html">vegclust</a></code> or <code><a href="vegclass.html">vegclass</a></code>, the function uses the information contained there (distances to cluster centers, memberships and exponent of fuzziness) in order to compute cluster variances. Cluster centers do not need to be recomputed, and the distances to cluster centers are used directly. For centroid-based cluster models (KM, FCM, NC, HNC and PCM) the variance is defined as the average squared distance to the centroid. For medoid-based cluster models (KMdd, FCMdd, NCdd, HNCdd and PCMdd) the variance is defined as average distance to the medoid. The variance for both mobile and fixed clusters is returned. Additionally, membership matrices may be defuzzified if <code>defuzzify=TRUE</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="vegclust.html">vegclust</a></code>, <code><a href="https://rdrr.io/r/stats/kmeans.html" class="external-link">kmeans</a></code>,<code><a href="defuzzify.html">defuzzify</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Miquel De Cáceres, CREAF</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Loads data  </span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">wetland</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## This equals the chord transformation </span></span></span>
<span class="r-in"><span><span class="co">## (see also \code{\link{decostand}} in package 'vegan')</span></span></span>
<span class="r-in"><span><span class="va">wetland.chord</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sweep.html" class="external-link">sweep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">wetland</span><span class="op">)</span>, <span class="fl">1</span>, </span></span>
<span class="r-in"><span>                                     <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">wetland</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span>, <span class="st">"/"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create noise clustering with 3 clusters. Perform 10 starts from random seeds </span></span></span>
<span class="r-in"><span><span class="co">## and keep the best solution</span></span></span>
<span class="r-in"><span><span class="va">wetland.nc</span> <span class="op">&lt;-</span> <span class="fu"><a href="vegclust.html">vegclust</a></span><span class="op">(</span><span class="va">wetland.chord</span>, mobileCenters<span class="op">=</span><span class="fl">3</span>, m <span class="op">=</span> <span class="fl">1.2</span>, dnoise<span class="op">=</span><span class="fl">0.75</span>, </span></span>
<span class="r-in"><span>                       method<span class="op">=</span><span class="st">"NC"</span>, nstart<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Gets cluster variance of fuzzy clusters</span></span></span>
<span class="r-in"><span><span class="fu">clustvar</span><span class="op">(</span><span class="va">wetland.nc</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        M1        M2        M3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2924091 0.2612891 0.2556575 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Gets cluster variance of fuzzy clusters after defuzzification</span></span></span>
<span class="r-in"><span><span class="fu">clustvar</span><span class="op">(</span><span class="va">wetland.nc</span>, defuzzify<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        M1        M2        M3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2875054 0.2478222 0.2379082 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Similar to the previous, this gets cluster variance of defuzzified (i.e. hard) clusters</span></span></span>
<span class="r-in"><span><span class="fu">clustvar</span><span class="op">(</span><span class="va">wetland.chord</span>, cluster<span class="op">=</span><span class="fu"><a href="defuzzify.html">defuzzify</a></span><span class="op">(</span><span class="va">wetland.nc</span><span class="op">)</span><span class="op">$</span><span class="va">cluster</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        M1        M2        M3         N </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2861120 0.2474883 0.2372548 0.7175326 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Gets cluster variance of K-means (i.e. hard) clusters</span></span></span>
<span class="r-in"><span><span class="fu">clustvar</span><span class="op">(</span><span class="va">wetland.chord</span>, cluster<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/kmeans.html" class="external-link">kmeans</a></span><span class="op">(</span><span class="va">wetland.chord</span>, centers<span class="op">=</span><span class="fl">3</span>, nstart<span class="op">=</span><span class="fl">10</span><span class="op">)</span><span class="op">$</span><span class="va">cluster</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         1         2         3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.3215797 0.4684155 0.4099091 </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miquel De Cáceres.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

